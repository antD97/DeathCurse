# Copyright Â© 2022 antD97
# Licensed under the MIT License https://antD.mit-license.org/

# This file is for defining functions only

#! __:item/book
{
    give @s written_book{pages:['["",{"text":"\\n\\n \\u0020 \\u0020The "},{"text":"Death Curse","color":"dark_red"},{"text":"\\n \\u0020 \\u0020 \\u0020 \\u0020 by antD\\n\\n\\n \\u0020 \\u0020 \\u0020","color":"reset"},{"text":"\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\n\\n\\n\\n Respawns no longer\\n \\u0020taken for granted.","color":"#686868"}]','["",{"text":"\\u2500\\u2500 Introduction \\u2500\\u2500\\n\\n  Gone are the days of respawning for free. Don\'t you know bringing someone back to life comes with a price? It\'s about time you learn.\\n  For every subsequent life you live, you will find things increasingly "},{"text":"unstable","italic":true},{"text":". ","color":"reset"},{"text":"Enjoy.","color":"dark_red"}]','{"text":"\\u2500\\u2500 Curse Relief \\u2500\\u2500\\n\\nThe only thing that will cure you of the curse is time. For every five minutes that passes, the intensity of your symptoms will reduce.\\n\\nTODO: permanent* effects"}','["",{"text":"\\u2500\\u2500\\u2500 Level I \\u2500\\u2500\\u2500\\n\\nAfter one death, you will experience:\\n\\n\\u2022 "},{"text":"light nausea","color":"dark_red"},{"text":"\\n ","color":"reset"}]','["",{"text":"\\u2500\\u2500\\u2500 Level II \\u2500\\u2500\\u2500\\n\\nAfter two deaths, you will experience:\\n\\n\\u2022 "},{"text":"-1\\u2665","color":"dark_red"},{"text":"\\n\\u2022 ","color":"reset"},{"text":"moderate","color":"dark_red"},{"text":" nausea\\n ","color":"reset"}]','["",{"text":"\\u2500\\u2500\\u2500 Level III \\u2500\\u2500\\u2500\\n\\nAfter three deaths, you will experience:\\n\\n\\u2022 -1\\u2665\\n\\u2022 moderate nausea\\n\\u2022 "},{"text":"light fatigue","color":"dark_red"},{"text":"\\n ","color":"reset"}]','["",{"text":"\\u2500\\u2500\\u2500 Level IV \\u2500\\u2500\\u2500\\n\\nAfter four deaths, you will experience:\\n\\n\\u2022 "},{"text":"-2","color":"dark_red"},{"text":"\\u2665\\n\\u2022 moderate nausea\\n\\u2022 ","color":"reset"},{"text":"moderate","color":"dark_red"},{"text":" fatigue\\n ","color":"reset"}]','["",{"text":"\\u2500\\u2500\\u2500 Level V \\u2500\\u2500\\u2500\\n\\nAfter five deaths, you will experience:\\n\\n\\u2022 -2\\u2665\\n\\u2022 moderate nausea\\n\\u2022 moderate fatigue\\n\\u2022 "},{"text":"light poison","color":"dark_red"},{"text":"\\n\\n ","color":"reset"}]','["",{"text":"\\u2500\\u2500\\u2500 Level VI \\u2500\\u2500\\u2500\\n\\nAfter six deaths, you will experience:\\n\\n\\u2022 "},{"text":"-3","color":"dark_red"},{"text":"\\u2665\\n\\u2022 moderate nausea\\n\\u2022 moderate fatigue\\n\\u2022 ","color":"reset"},{"text":"moderate","color":"dark_red"},{"text":" poison\\n\\n ","color":"reset"}]','["",{"text":"\\u2500\\u2500\\u2500 Level VII \\u2500\\u2500\\u2500\\n\\nAfter seven deaths, "},{"text":"y","obfuscated":true},{"text":"ou will experience:\\n\\n\\u2022 -3\\u2665\\n\\u2022 ","color":"reset"},{"text":"heavy","color":"dark_red"},{"text":" nausea\\n\\u2022 ","color":"reset"},{"text":"heavy","color":"dark_red"},{"text":" fatigue\\n\\u2022 moderate poison\\n ","color":"reset"}]','["",{"text":"\\u2500\\u2500\\u2500 Level VIII \\u2500\\u2500\\u2500\\n\\nAf"},{"text":"t","obfuscated":true},{"text":"er eight deaths, you will experi","color":"reset"},{"text":"e","obfuscated":true},{"text":"nce:\\n\\n\\u2022 ","color":"reset"},{"text":"-4","color":"dark_red"},{"text":"\\u2665\\n\\u2022 heavy nausea\\n\\u2022 heavy fatigue\\n\\u2022 ","color":"reset"},{"text":"h","color":"dark_red"},{"text":"e","obfuscated":true,"color":"dark_red"},{"text":"avy","color":"dark_red"},{"text":" poison\\n\\n ","color":"reset"}]','["",{"text":"\\u2500\\u2500\\u2500 Level IX \\u2500\\u2500\\u2500\\n\\nAft"},{"text":"er","obfuscated":true},{"text":" nine dea","color":"reset"},{"text":"t","obfuscated":true},{"text":"hs, you wi","color":"reset"},{"text":"l","obfuscated":true},{"text":"l experie","color":"reset"},{"text":"n","obfuscated":true},{"text":"ce:\\n\\n\\u2022 -4\\u2665\\n\\u2022 he","color":"reset"},{"text":"a","obfuscated":true},{"text":"vy nausea\\n\\u2022 ","color":"reset"},{"text":"intense","color":"dark_red"},{"text":" fatigue\\n\\u2022 heavy p","color":"reset"},{"text":"o","obfuscated":true},{"text":"ison\\n\\n\\n ","color":"reset"}]','["",{"text":"\\u2500\\u2500\\u2500 L"},{"text":"e","obfuscated":true},{"text":"vel ","color":"reset"},{"text":"X","obfuscated":true},{"text":" \\u2500\\u2500\\u2500\\n\\n","color":"reset"},{"text":"Aft","obfuscated":true},{"text":"er ","color":"reset"},{"text":"t","obfuscated":true},{"text":"en de","color":"reset"},{"text":"at","obfuscated":true},{"text":"hs, y","color":"reset"},{"text":"ou","obfuscated":true},{"text":" w","color":"reset"},{"text":"i","obfuscated":true},{"text":"ll e","color":"reset"},{"text":"xpe","obfuscated":true},{"text":"r","color":"reset"},{"text":"i","obfuscated":true},{"text":"e","color":"reset"},{"text":"nc","obfuscated":true},{"text":"e:\\n\\n\\u2022 ","color":"reset"},{"text":"-5","color":"dark_red"},{"text":"\\u2665\\n\\u2022 h","color":"reset"},{"text":"ea","obfuscated":true},{"text":"vy nau","color":"reset"},{"text":"s","obfuscated":true},{"text":"ea\\n\\u2022 inten","color":"reset"},{"text":"s","obfuscated":true},{"text":"e f","color":"reset"},{"text":"a","obfuscated":true},{"text":"tigue\\n\\u2022 h","color":"reset"},{"text":"e","obfuscated":true},{"text":"avy pois","color":"reset"},{"text":"o","obfuscated":true},{"text":"n\\n\\n\\n ","color":"reset"}]','{"text":"The following pages contains information on datapack commands.\\n "}','["",{"text":"\\u2500 Triggers (1/2) \\u2500\\n\\nTrigger commands are available to all players.\\n\\n"},{"text":"/trigger __intro","color":"#686868"},{"text":"\\n","color":"reset"},{"text":"[run command]","color":"#00FFFF","clickEvent":{"action":"run_command","value":"/trigger __book"}},{"text":"\\n\\nResends the ","color":"reset"},{"text":"Death Curse","color":"dark_red"},{"text":" book introduction message.\\n\\n ","color":"reset"}]','["",{"text":"\\u2500 Triggers (2/2) \\u2500\\n\\n"},{"text":"/trigger __book","color":"#686868"},{"text":"\\n","color":"reset"},{"text":"[run command]","color":"#00FFFF","clickEvent":{"action":"run_command","value":"/trigger __book"}},{"text":"\\n\\nAttempts to claim the original copy of the ","color":"reset"},{"text":"Death Curse","color":"dark_red"},{"text":" book.\\n ","color":"reset"}]','["",{"text":"\\u2500\\u2500\\u2500 Operators \\u2500\\u2500\\u2500\\n\\nFor commands available to operators only, try:\\n\\n"},{"text":"/functions __:functions","color":"#686868"},{"text":"\\n","color":"reset"},{"text":"[run command]","color":"#00FFFF","clickEvent":{"action":"run_command","value":"/function __:functions"}},{"text":"\\n ","color":"reset"}]','["",{"text":"This datapack was inspired by:\\n\\n\\u2022 PIGUP\'s Death Punishments datapack on planetminecrft "},{"text":"[link]","color":"#00FFFF","clickEvent":{"action":"open_url","value":"https://www.planetminecraft.com/data-pack/death-punishments/"}},{"text":"\\n\\n\\u2022 Made in Abyss\\n\\n\\u2022 Sekiro","color":"reset"}]'],title:"The Death Curse",author:antD}
}

# Gives the executor a curse ward I
#! __:item/curse_ward1
{
    recipe take @s __:curse_ward1
    advancement revoke @s only __:curse_ward1
    give @s enchanted_book{display:{Name:'{"text":"Curse Ward I","color":"#AA0000","bold":true,"italic":true}',Lore:['{"text":"-1 Death Curse Level"}']},CustomModelData:379300} 1
    clear @s minecraft:knowledge_book
}

# Gives the executor a curse ward II
#! __:item/curse_ward2
{
    give @s enchanted_book{display:{Name:'{"text":"Curse Ward II","color":"#440000","bold":true,"italic":true}',Lore:['{"text":"-3 Death Curse Levels"}']},CustomModelData:379301} 1
}

# Gives the executor a curse ward III
#! __:item/curse_ward3
{
    give @s enchanted_book{display:{Name:'{"text":"Curse Ward III","color":"#000000","bold":true,"italic":true}',Lore:['{"text":"-9 Death Curse Levels"}']},CustomModelData:379302} 1
}

# Gives the executor a curse cookie I
#! __:item/curse_cookie1
{
    recipe take @s __:curse_cookie1
    advancement revoke @s only __:curse_cookie1
    give @s cookie{display:{Name:'{"text":"Curse Cookie I","color":"#AA0000","bold":true,"italic":true}',Lore:['{"text":"-1 Death Curse Level for 30m"}']},CustomModelData:379303} 1
    clear @s minecraft:knowledge_book
}

# Gives the executor a curse cookie II
#! __:item/curse_cookie2
{
    give @s cookie{display:{Name:'{"text":"Curse Cookie II","color":"#440000","bold":true,"italic":true}',Lore:['{"text":"-2 Death Curse Levels for 30m"}']},CustomModelData:379304} 1
}

# Gives the executor a curse cookie III
#! __:item/curse_cookie3
{
    give @s cookie{display:{Name:'{"text":"Curse Cookie III","color":"#000000","bold":true,"italic":true}',Lore:['{"text":"-3 Death Curse Levels for 30m"}']},CustomModelData:379305} 1
}

# Make the executing item invulnerable and never despawn
#! __:item/invulnerable
{
    data modify entity @s Invulnerable set value 1b
    data modify entity @s Age set value -32768s
}
